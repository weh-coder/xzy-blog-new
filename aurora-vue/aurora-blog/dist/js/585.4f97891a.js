"use strict";(self["webpackChunkaurora_blog"]=self["webpackChunkaurora_blog"]||[]).push([[585],{47919:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(73396),r=n(87139);const a={class:"breadcrumbs flex flex-row gap-6 text-white"};function o(e,t,n,o,c,l){return(0,s.wg)(),(0,s.iD)("ul",a,[(0,s._)("li",null,(0,r.zw)(e.t("menu.home")),1),(0,s._)("li",null,(0,r.zw)(e.current),1)])}var c=n(35213),l=(0,s.aZ)({name:"Breadcrumb",props:["current"],setup(){const{t:e}=(0,c.QT)();return{t:e}}}),u=n(40089);const m=(0,u.Z)(l,[["render",o],["__scopeId","data-v-64013c38"]]);var i=m},27372:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var s=n(73396),r=n(87139);const a={class:"flex flex-col"},o={class:"post-header"},c={class:"post-title text-white uppercase"},l={class:"main-grid"},u={class:"relative"},m=["innerHTML"],i={class:"col-span-1"};function d(e,t,n,d,p,v){const h=(0,s.up)("Breadcrumb"),g=(0,s.up)("Comment"),f=(0,s.up)("Profile"),_=(0,s.up)("Sidebar");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(h,{current:e.t("menu.message")},null,8,["current"]),(0,s._)("div",a,[(0,s._)("div",o,[(0,s._)("h1",c,(0,r.zw)(e.t("titles.message")),1)]),(0,s._)("div",l,[(0,s._)("div",u,[(0,s._)("div",{class:"post-html",innerHTML:e.t("settings.message_board_context")},null,8,m),(0,s.Wm)(g)]),(0,s._)("div",i,[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f)])),_:1})])])])])}var p=n(44870),v=n(35213),h=n(28242),g=n(47919),f=n(85926),_=n(17437),b=n(73286),Z=n(13184),w=(0,s.aZ)({name:"Message",components:{Breadcrumb:g.Z,Comment:f.s,Sidebar:h.YE,Profile:h.NZ},setup(){const{t:e}=(0,v.QT)(),t=(0,_.j)(),n=(0,p.qj)({comments:[],haveMore:!1,isReload:!1}),r=(0,p.qj)({current:1,size:7});t.type=2,(0,s.bv)((()=>{a()})),(0,s.JJ)("comments",(0,s.Fl)((()=>n.comments))),(0,s.JJ)("haveMore",(0,s.Fl)((()=>n.haveMore))),Z.Z.on("messageFetchComment",(()=>{r.current=1,n.isReload=!0,a()})),Z.Z.on("messageFetchReplies",(e=>{o(e)})),Z.Z.on("messageLoadMore",(()=>{a()}));const a=()=>{const e={type:2,topicId:null,current:r.current,size:r.size};b.Z.getComments(e).then((({data:e})=>{n.isReload?(n.comments=e.data.records,n.isReload=!1):n.comments.push(...e.data.records),e.data.count<=n.comments.length?n.haveMore=!1:n.haveMore=!0,r.current++}))},o=e=>{b.Z.getRepliesByCommentId(n.comments[e].id).then((({data:t})=>{n.comments[e].replyDTOs=t.data}))};return{...(0,p.BK)(n),t:e}}}),M=n(40089);const x=(0,M.Z)(w,[["render",d]]);var C=x}}]);